## Оранизация памяти

Архитектура AMD64 разделяет память на виртуальную и физическую. Обычно пространство виртуальных адресов намного больше памяти физических адресов. Затем системное программное обеспечение использует аппаратное управление памятью,
механизмы для отображения большего пространства виртуальных адресов в меньшее пространство физических адресов.

## Виртуальная память. 
Программное обеспечение использует виртуальные адреса для доступа к местоположениям в пространстве виртуальной памяти. Системное программное обеспечение отвечает за управление перемещением приложений и данных в пространстве виртуальной памяти с использованием управления памятью по сегментам. Системное программное обеспечение также отвечает за отображение виртуальной памяти в физическую память с помощью трансляции страниц. Архитектура AMD64 поддерживает различные размеры виртуальной памяти, используя следующие режимы трансляции адресов:

Защищенный режим — Этот режим поддерживает 4 гигабайта виртуального адресного пространства с использованием 32-битных виртуальных адресов.  
Длинный режим — Этот режим поддерживает 16 эксабайт виртуального адресного пространства с использованием 64-битных виртуальных адресов. Однако конкретная реализация может поддерживать меньше этого объема, как сообщается с помощью функции идентификации возможностей процессора (CPUID).  

# Физическая память

Физические адреса используются для **прямого доступа к основной памяти**. Размер доступного физического адресного пространства равен объему установленной в системе основной памяти. Максимальный объем доступной физической памяти зависит от реализации процессора и режима трансляции адресов.

Архитектура AMD64 поддерживает различные размеры физической памяти, используя следующие режимы трансляции адресов:

## Реальный Адресный Режим
- Также называемый **реальным режимом**.
- Поддерживает **1 мегабайт** физического адресного пространства с использованием 20-битных физических адресов.
- Описан в разделе "Реальная адресация".
- Доступен только из устаревшего режима.

## Устаревший Защищенный Режим
- Поддерживает **4 гигабайта** физического адресного пространства с использованием 32-битных физических адресов.
- Использует сегментную трансляцию и трансляцию страниц для доступа к физическому адресному пространству.
- При включении расширений размера физического адреса, механизм трансляции страниц может быть расширен для поддержки **52-битных физических адресов**, позволяющих поддерживать до **4 петабайт** физического адресного пространства.

## Длинный Режим
- Уникален для архитектуры AMD64.
- Поддерживает до **4 петабайт** физического адресного пространства с использованием 52-битных физических адресов.
