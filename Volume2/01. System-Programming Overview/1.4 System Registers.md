## Системные регистры

![w](https://github.com/JIykSurgut/Opcode/blob/main/Figure/System%20Registers.jpg)

## Control Registers
Контрольные регистры в архитектуре x86 и AMD64 играют ключевую роль в управлении операциями системы и некоторыми её возможностями. Вот основные контрольные регистры:
 - CR0: Содержит флаги, которые управляют основными режимами работы процессора, включая включение и выключение защищённого режима, кэширование и виртуализацию.
 - CR2: Содержит адрес последнего исключения нарушения страницы, что позволяет операционной системе определить, какой адрес вызвал ошибку.
 - CR3: Используется для управления таблицами страниц виртуальной памяти, содержит физический адрес корневой таблицы страниц.
 - CR4: Включает в себя различные флаги, которые управляют такими функциями, как расширенная виртуализация, защита от выполнения и другие.
 - CR8: Используется в 64-битных системах для управления приоритетом прерываний.
```
MOV EAX, CR0      ; Копируем значение CR0 в EAX
OR EAX, 0x80000000 ; Устанавливаем нужный бит в EAX
MOV CR0, EAX      ; Записываем обратно в CR0
```

## System-Flags Register
Регистр системных флагов — регистр RFLAGS содержит флаги состояния системы и маски. Он также используется для включения виртуального режима 8086 и для контроля доступа приложений к устройствам ввода-вывода и прерываниям.

## Descriptor-Table Registers
Регистры таблиц дескрипторов — эти регистры содержат информацию о расположении и размере таблиц дескрипторов, хранящихся в памяти. Таблицы дескрипторов содержат структуры данных сегментации, используемые в защищённом режиме.

## Task Register
Регистр задач — регистр задач содержит информацию о расположении и размере сегмента состояния задачи в памяти. Механизм аппаратного многозадачности использует сегмент состояния задачи для хранения информации о состоянии данной задачи. ТСС также содержит другие данные, такие как указатели стека более низкого уровня, используемые при переходе на более высокий уровень привилегий.

## Debug Registers
Регистры отладки — это специальные регистры, используемые для управления механизмом программной отладки и для передачи информации обратно в утилиту или приложение отладки.
